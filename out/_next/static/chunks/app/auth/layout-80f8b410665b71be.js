(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{1893:(e,t,r)=>{Promise.resolve().then(r.bind(r,9601))},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},7674:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,O:()=>c});var s=r(5155),a=r(2115),u=r(9012);let n=(0,a.createContext)();function c(e){let{children:t}=e,[r,c]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0),[i,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=await u.F.get("/auth/me");c(e.data.user),h(!0)}catch(e){c(null),h(!1)}finally{o(!1)}},m=async e=>{c(e),h(!0)},f=async()=>{try{await u.F.post("/auth/logout"),c(null),h(!1)}catch(e){console.error("Logout error:",e)}};return(0,s.jsx)(n.Provider,{value:{user:r,isAuthenticated:i,isLoading:l,login:m,logout:f,checkAuthStatus:d},children:t})}let l=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},9012:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});let s=r(3464).A.create({baseURL:"http://localhost:4000",withCredentials:!0})},9601:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),a=r(7674),u=r(5695),n=r(2115);function c(e){let{children:t}=e,{isAuthenticated:r,isLoading:c}=(0,a.A)(),l=(0,u.useRouter)();return((0,n.useEffect)(()=>{!c&&r&&l.push("/dashboard")},[r,c,l]),c)?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"در حال بررسی احراز هویت..."})]})}):r?null:(0,s.jsx)(s.Fragment,{children:t})}}},e=>{e.O(0,[464,441,964,358],()=>e(e.s=1893)),_N_E=e.O()}]);