(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{4185:(e,r,s)=>{Promise.resolve().then(s.bind(s,8334))},8334:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var a=s(5155),t=s(3974),n=s(5695),d=s(2115),l=s(6874),o=s.n(l),i=s(1714);let c=function(){let[e,r]=(0,d.useState)({name:"",password:""}),[s,l]=(0,d.useState)({}),[c,m]=(0,d.useState)(!1),{t:u}=(0,i.o)(),p=(0,n.useRouter)();(0,n.useSearchParams)().get("classId");let g=(0,t.v)(),b=a=>{r({...e,[a.target.name]:a.target.value}),s[a.target.name]&&l({...s,[a.target.name]:""})},x=async r=>{if(r.preventDefault(),(()=>{let r={};return e.name.trim()||(r.name=u("username")+" is required"),e.password||(r.password=u("password")+" is required"),l(r),0===Object.keys(r).length})()){m(!0),l({});try{await g.mutateAsync(e),p.push("/dashboard")}catch(e){var s,a;if(console.error("Login failed:",e),null==(a=e.response)||null==(s=a.data)?void 0:s.message){let r=e.response.data.message;l({general:u("error")+": "+r})}else l({general:u("error")})}finally{m(!1)}}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsx)("div",{className:"max-w-md mx-auto px-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:u("userLogin")}),(0,a.jsx)("p",{className:"text-gray-600",children:u("loginToAccount")})]}),s.general&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:s.general}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("username")}),(0,a.jsx)("input",{type:"text",name:"name",placeholder:u("username"),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ".concat(s.name?"border-red-500 bg-red-50":"border-gray-300"),value:e.name,onChange:b,disabled:c,required:!0}),s.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:u("password")}),(0,a.jsx)("input",{type:"password",name:"password",placeholder:u("password"),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent ".concat(s.password?"border-red-500 bg-red-50":"border-gray-300"),value:e.password,onChange:b,disabled:c,required:!0}),s.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.password})]}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?u("loading")+"...":u("loginButton")})]}),(0,a.jsxs)("div",{className:"text-center mt-8 pt-6 border-t border-gray-200",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:u("newUser")}),(0,a.jsx)(o(),{href:"/auth/register",className:"inline-block bg-success hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:u("registerFirst")})]})]})})})}}},e=>{e.O(0,[464,874,144,295,441,964,358],()=>e(e.s=4185)),_N_E=e.O()}]);