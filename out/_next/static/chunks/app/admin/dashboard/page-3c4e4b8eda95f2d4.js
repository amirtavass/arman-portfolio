(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{28:(e,t,s)=>{"use strict";s.d(t,{Pg:()=>o,W$:()=>x,QT:()=>c,Dr:()=>d,CC:()=>u});var a=s(2960),l=s(6715),r=s(5041),n=s(9012);let i={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.F.get("/products",{params:e})).data.data},create:async e=>(await n.F.post("/products",e)).data.data,update:async(e,t)=>(await n.F.put("/products/".concat(e),t)).data.data,delete:async e=>(await n.F.delete("/products/".concat(e))).data,getByCategory:async e=>(await n.F.get("/products",{params:{category:e}})).data.data},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.I)({queryKey:["products",e],queryFn:()=>i.getAll(e)})},d=e=>(0,a.I)({queryKey:["products","category",e],queryFn:()=>i.getByCategory(e)}),o=()=>{let e=(0,l.jE)();return(0,r.n)({mutationFn:i.create,onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})},u=()=>{let e=(0,l.jE)();return(0,r.n)({mutationFn:e=>{let{id:t,...s}=e;return i.update(t,s)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})},x=()=>{let e=(0,l.jE)();return(0,r.n)({mutationFn:i.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}},1617:(e,t,s)=>{Promise.resolve().then(s.bind(s,8646))},4879:(e,t,s)=>{"use strict";s.d(t,{X:()=>i,z:()=>c});var a=s(5155),l=s(2115),r=s(9012);let n=(0,l.createContext)();function i(e){let{children:t}=e,[s,i]=(0,l.useState)(null),[c,d]=(0,l.useState)(!0),[o,u]=(0,l.useState)(!1);(0,l.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await r.F.get("/admin/me");i(e.data.admin),u(!0)}catch(e){i(null),u(!1)}finally{d(!1)}},p=async e=>{i(e),u(!0)},m=async()=>{try{await r.F.post("/admin/logout"),i(null),u(!1)}catch(e){console.error("Admin logout error:",e),i(null),u(!1)}};return(0,a.jsx)(n.Provider,{value:{admin:s,isAuthenticated:o,isLoading:c,login:p,logout:m,checkAdminStatus:x},children:t})}let c=()=>{let e=(0,l.useContext)(n);if(!e)throw Error("useAdmin must be used within AdminProvider");return e}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},8646:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(5155),l=s(2115),r=s(4879),n=s(5695);let i=function(e){let{children:t,redirectTo:s="/admin/login"}=e,{isAuthenticated:i,isLoading:c}=(0,r.z)(),d=(0,n.useRouter)();return((0,l.useEffect)(()=>{c||i||d.push(s)},[i,c,d,s]),c)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"در حال بررسی دسترسی مدیریت..."})]})}):i?t:null},c=function(){let{admin:e,logout:t}=(0,r.z)(),s=async()=>{await t(),window.location.href="/"};return(0,a.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"پنل مدیریت"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-gray-600",children:["سلام ",null==e?void 0:e.username]}),(0,a.jsx)("button",{onClick:s,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg",children:"خروج"})]})]})})})},d=function(e){let{activeTab:t,onTabChange:s}=e;return(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>s("classes"),className:"px-6 py-3 rounded-lg font-medium ".concat("classes"===t?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"مدیریت کلاس‌ها"}),(0,a.jsx)("button",{onClick:()=>s("products"),className:"px-6 py-3 rounded-lg font-medium ".concat("products"===t?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"مدیریت محصولات"})]})})};var o=s(8784);let u=function(e){let{editingClass:t,onClose:s}=e,[r,n]=(0,l.useState)({title:(null==t?void 0:t.title)||"",classType:(null==t?void 0:t.classType)||"کلاس خصوصی ۱۲ جلسه",description:(null==t?void 0:t.description)||"",duration:(null==t?void 0:t.duration)||60,date:t?new Date(t.date).toISOString().split("T")[0]:"",time:(null==t?void 0:t.time)||"",maxStudents:(null==t?void 0:t.maxStudents)||10,price:(null==t?void 0:t.price)||0,instructor:(null==t?void 0:t.instructor)||"مربی اول",location:(null==t?void 0:t.location)||"استخر اصلی"}),i=(0,o.Yz)(),c=(0,o.jg)(),d=async e=>{e.preventDefault();try{let e={...r,date:new Date(r.date)};t?await c.mutateAsync({id:t._id,...e}):await i.mutateAsync(e),s()}catch(e){alert("خطا در عملیات: "+e.message)}};return(0,a.jsxs)("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-4",children:t?"ویرایش کلاس":"کلاس جدید"}),(0,a.jsxs)("form",{onSubmit:d,className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"عنوان",value:r.title,onChange:e=>n({...r,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,a.jsxs)("select",{value:r.classType,onChange:e=>n({...r,classType:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"کلاس خصوصی ۱۲ جلسه",children:"کلاس خصوصی ۱۲ جلسه"}),(0,a.jsx)("option",{value:"کلاس پدر و فرزند",children:"کلاس پدر و فرزند"}),(0,a.jsx)("option",{value:"کلاس آمادگی مسابقات",children:"کلاس آمادگی مسابقات"}),(0,a.jsx)("option",{value:"سانس آزاد استخر",children:"سانس آزاد استخر"}),(0,a.jsx)("option",{value:"جلسه آزمایشی رایگان",children:"جلسه آزمایشی رایگان"})]}),(0,a.jsx)("input",{type:"number",placeholder:"مدت زمان (دقیقه)",value:r.duration,onChange:e=>n({...r,duration:parseInt(e.target.value)}),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("input",{type:"date",value:r.date,onChange:e=>n({...r,date:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("input",{type:"time",value:r.time,onChange:e=>n({...r,time:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("input",{type:"number",placeholder:"حداکثر دانشجو",value:r.maxStudents,onChange:e=>n({...r,maxStudents:parseInt(e.target.value)}),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,a.jsx)("input",{type:"number",placeholder:"قیمت (تومان)",value:r.price,onChange:e=>n({...r,price:parseInt(e.target.value)}),className:"w-full px-3 py-2 border rounded-lg",required:!0}),(0,a.jsxs)("select",{value:r.instructor,onChange:e=>n({...r,instructor:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"مربی اول",children:"مربی اول"}),(0,a.jsx)("option",{value:"مربی دوم",children:"مربی دوم"}),(0,a.jsx)("option",{value:"هر دو مربی",children:"هر دو مربی"})]}),(0,a.jsx)("textarea",{placeholder:"توضیحات",value:r.description,onChange:e=>n({...r,description:e.target.value}),className:"col-span-2 w-full px-3 py-2 border rounded-lg",rows:"3"}),(0,a.jsxs)("div",{className:"col-span-2 flex gap-4",children:[(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:t?"به‌روزرسانی":"ایجاد"}),(0,a.jsx)("button",{type:"button",onClick:s,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg",children:"انصراف"})]})]})]})},x=function(){let{data:e,isLoading:t,error:s}=(0,o.gR)(),[r,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)(null),d=(0,o.Xl)(),x=async e=>{if(window.confirm("آیا مطمئن هستید؟"))try{await d.mutateAsync(e)}catch(e){alert("خطا در حذف کلاس")}},p=()=>{c(null),n(!0)};return t?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{children:"در حال بارگذاری کلاس‌ها..."})]})}):s?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,a.jsxs)("div",{className:"text-center text-red-600",children:[(0,a.jsx)("p",{children:"خطا در بارگذاری کلاس‌ها"}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg",children:"تلاش مجدد"})]})}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"مدیریت کلاس‌ها"}),(0,a.jsx)("button",{onClick:p,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"ایجاد کلاس جدید"})]}),r&&(0,a.jsx)(u,{editingClass:i,onClose:()=>{n(!1),c(null)}}),e&&e.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"عنوان"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"نوع"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"تاریخ"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"زمان"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"قیمت"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"عملیات"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"px-4 py-2",children:e.title}),(0,a.jsx)("td",{className:"px-4 py-2",children:e.classType}),(0,a.jsx)("td",{className:"px-4 py-2",children:new Date(e.date).toLocaleDateString("fa-IR")}),(0,a.jsx)("td",{className:"px-4 py-2",children:e.time}),(0,a.jsx)("td",{className:"px-4 py-2",children:e.price.toLocaleString()}),(0,a.jsxs)("td",{className:"px-4 py-2",children:[(0,a.jsx)("button",{onClick:()=>{c(e),n(!0)},className:"text-blue-600 hover:underline ml-2",children:"ویرایش"}),(0,a.jsx)("button",{onClick:()=>x(e._id),className:"text-red-600 hover:underline",children:"حذف"})]})]},e._id))})]})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)("p",{children:"هیچ کلاسی یافت نشد"}),(0,a.jsx)("button",{onClick:p,className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg",children:"اولین کلاس را اضافه کنید"})]})]})};var p=s(28);let m=function(e){let{editingProduct:t,onClose:s}=e,[r,n]=(0,l.useState)({name:(null==t?void 0:t.name)||"",price:(null==t?void 0:t.price)||0,category:(null==t?void 0:t.category)||"swimwear",description:(null==t?void 0:t.description)||"",image:(null==t?void 0:t.image)||"/images/default-product.jpg",inStock:(null==t?void 0:t.inStock)===void 0||t.inStock}),[i,c]=(0,l.useState)(!1),d=(0,l.useRef)(null),o=(0,p.Pg)(),u=(0,p.CC)(),x=async e=>{if(!e)return null;c(!0);try{let t=new FormData;t.append("image",e);let s="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:4000":"https://parsswim-backend-production.up.railway.app",a=await fetch("".concat(s,"/upload/product"),{method:"POST",body:t,credentials:"include"}),l=await a.json();if(a.ok&&l.success)return console.log("Upload successful:",l),l.imagePath;throw console.error("Upload failed:",l),Error(l.message||"Upload failed")}catch(e){return console.error("Image upload failed:",e),alert("خطا در آپلود تصویر: "+e.message),null}finally{c(!1)}},m=async e=>{e.preventDefault();try{var a;let e={...r};if(null==(a=d.current)?void 0:a.files[0]){let t=await x(d.current.files[0]);if(!t)return;e.image=t}t?await u.mutateAsync({id:t._id,...e}):await o.mutateAsync(e),s(),d.current&&(d.current.value="")}catch(e){console.error("Product operation failed:",e),alert("خطا در عملیات محصول: "+(e.message||"خطای ناشناخته"))}};return(0,a.jsxs)("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-4",children:t?"ویرایش محصول":"محصول جدید"}),(0,a.jsxs)("form",{onSubmit:m,className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"نام محصول"}),(0,a.jsx)("input",{type:"text",required:!0,value:r.name,onChange:e=>n({...r,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"نام محصول"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"قیمت (تومان)"}),(0,a.jsx)("input",{type:"number",required:!0,value:r.price,onChange:e=>n({...r,price:parseInt(e.target.value)}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"قیمت"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"دسته‌بندی"}),(0,a.jsxs)("select",{value:r.category,onChange:e=>n({...r,category:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"swimwear",children:"مایو شنا"}),(0,a.jsx)("option",{value:"swimgoggles",children:"عینک شنا"}),(0,a.jsx)("option",{value:"swimfins",children:"فین شنا"}),(0,a.jsx)("option",{value:"swimequipment",children:"تجهیزات شنا"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["آپلود تصویر",i&&(0,a.jsx)("span",{className:"text-blue-600 text-sm",children:" (در حال آپلود...)"})]}),(0,a.jsx)("input",{ref:d,type:"file",accept:"image/*",disabled:i,className:"w-full px-3 py-2 border rounded-lg disabled:opacity-50"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"توضیحات"}),(0,a.jsx)("textarea",{value:r.description,onChange:e=>n({...r,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:"3",placeholder:"توضیحات محصول"})]}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.inStock,onChange:e=>n({...r,inStock:e.target.checked}),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"موجود در انبار"})]})}),(0,a.jsxs)("div",{className:"col-span-2 flex gap-4",children:[(0,a.jsx)("button",{type:"submit",disabled:i,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:t?"به‌روزرسانی":"ایجاد"}),(0,a.jsx)("button",{type:"button",onClick:s,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg",children:"انصراف"})]})]})]})},h=function(){let{data:e,isLoading:t,error:s}=(0,p.QT)(),r=(0,p.W$)(),[n,i]=(0,l.useState)(!1),[c,d]=(0,l.useState)(null),o=()=>{d(null),i(!0)},u=async e=>{if(window.confirm("آیا از حذف این محصول اطمینان دارید؟"))try{await r.mutateAsync(e)}catch(e){var t;console.error("Delete failed:",e),(null==(t=e.response)?void 0:t.status)===403?alert("شما اجازه حذف محصول را ندارید. لطفاً از حساب مدیر استفاده کنید."):alert("خطا در حذف محصول: "+(e.message||"خطای ناشناخته"))}};return t?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{children:"در حال بارگذاری محصولات..."})]})}):s?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,a.jsxs)("div",{className:"text-center text-red-600",children:[(0,a.jsxs)("p",{children:["خطا در بارگذاری محصولات: ",s.message]}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg",children:"تلاش مجدد"})]})}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"مدیریت محصولات"}),(0,a.jsx)("button",{onClick:o,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"ایجاد محصول جدید"})]}),n&&(0,a.jsx)(m,{editingProduct:c,onClose:()=>{i(!1),d(null)}}),e&&e.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"نام"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"قیمت"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"دسته‌بندی"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right",children:"وضعیت"}),(0,a.jsx)("th",{className:"px-4 py-2 text-center",children:"عملیات"})]})}),(0,a.jsx)("tbody",{children:null==e?void 0:e.map(e=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"px-4 py-2",children:e.name}),(0,a.jsxs)("td",{className:"px-4 py-2",children:[e.price.toLocaleString()," تومان"]}),(0,a.jsx)("td",{className:"px-4 py-2",children:e.category}),(0,a.jsx)("td",{className:"px-4 py-2",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.inStock?"موجود":"ناموجود"})}),(0,a.jsxs)("td",{className:"px-4 py-2 text-center",children:[(0,a.jsx)("button",{onClick:()=>{d(e),i(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm mr-2",children:"ویرایش"}),(0,a.jsx)("button",{onClick:()=>u(e._id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"حذف"})]})]},e._id))})]})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)("p",{children:"هیچ محصولی یافت نشد"}),(0,a.jsx)("button",{onClick:o,className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg",children:"اولین محصول را اضافه کنید"})]})]})};function g(){return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-48"}),(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"})]}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-16 bg-gray-100 rounded"},e))})]})})}let b=function(){let[e,t]=(0,l.useState)("classes");return(0,a.jsx)(i,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)(c,{}),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,a.jsx)(d,{activeTab:e,onTabChange:t}),(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)(g,{}),children:"classes"===e?(0,a.jsx)(x,{}):(0,a.jsx)(h,{})})]})]})})}},8784:(e,t,s)=>{"use strict";s.d(t,{gR:()=>c,Yz:()=>d,Xl:()=>u,jg:()=>o});var a=s(2960),l=s(6715),r=s(5041),n=s(9012);let i={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await n.F.get("/classes",{params:e})).data.data},create:async e=>(await n.F.post("/classes",e)).data.data,update:async(e,t)=>(await n.F.put("/classes/".concat(e),t)).data.data,delete:async e=>(await n.F.delete("/classes/".concat(e))).data},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.I)({queryKey:["classes",e],queryFn:()=>i.getAll(e)})},d=()=>{let e=(0,l.jE)();return(0,r.n)({mutationFn:i.create,onSuccess:()=>{e.invalidateQueries({queryKey:["classes"]})}})},o=()=>{let e=(0,l.jE)();return(0,r.n)({mutationFn:e=>{let{id:t,...s}=e;return i.update(t,s)},onSuccess:()=>{e.invalidateQueries({queryKey:["classes"]})}})},u=()=>{let e=(0,l.jE)();return(0,r.n)({mutationFn:i.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["classes"]})}})}},9012:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});let a=s(3464).A.create({baseURL:(()=>{{let e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e?"http://localhost:4000":"https://parsswim-backend-production.up.railway.app"}})(),withCredentials:!0,timeout:15e3});a.interceptors.request.use(e=>e,e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t,s,a;return(null==(t=e.config)?void 0:t.url)==="/admin/me"||null==(s=e.config)||s.url,null==(a=e.response)||a.status,Promise.reject(e)})}},e=>{e.O(0,[464,144,736,441,964,358],()=>e(e.s=1617)),_N_E=e.O()}]);