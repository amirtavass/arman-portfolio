(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{2290:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(5155),l=t(7674),a=t(6874),n=t.n(a),c=t(5695),d=t(2115);let i=function(e){let{children:s,redirectTo:t="/auth/login"}=e,{isAuthenticated:a,isLoading:n}=(0,l.A)(),i=(0,c.useRouter)();return((0,d.useEffect)(()=>{n||a||i.push(t)},[a,n,i,t]),n)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-200 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"در حال بررسی احراز هویت..."})]})}):a?s:null},o=function(){var e;let{user:s,logout:t}=(0,l.A)(),a=async()=>{await t(),window.location.href="/"};return(0,r.jsx)(i,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gray-200 py-12",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsxs)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:["سلام ",null==s?void 0:s.name]}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"به داشبورد شخصی خود خوش آمدید"}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mt-6 max-w-md mx-auto",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-800 mb-2",children:"اطلاعات کاربری"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"نام:"})," ",null==s?void 0:s.name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"ایمیل:"})," ",null==s?void 0:s.email]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"موجودی:"})," ",null==s||null==(e=s.balance)?void 0:e.toLocaleString()," ","تومان"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"سطح مهارت:"})," ",null==s?void 0:s.skillLevel]})]})]}),(0,r.jsx)("button",{onClick:a,className:"mt-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:"خروج از حساب"})]}),(0,r.jsx)("div",{className:"mb-8 p-4 bg-green-100 border border-green-400 text-green-700 rounded",children:"ثبت‌نام شما با موفقیت انجام شد! اکنون می‌توانید برای کلاس‌های شنا ثبت‌نام کنید."}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"کلاس‌های شنا"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"مشاهده و ثبت‌نام در کلاس‌های مختلف"}),(0,r.jsx)(n(),{href:"/",className:"bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary-dark",children:"مشاهده کلاس‌ها"})]}),(0,r.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"کلاس‌های من"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"مشاهده کلاس‌های ثبت‌نام شده"}),(0,r.jsx)("button",{className:"bg-success text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"کلاس‌های من"})]})]}),(0,r.jsx)("div",{className:"grid md:grid-cols-3 gap-8"})]})})})})}},3782:(e,s,t)=>{Promise.resolve().then(t.bind(t,2290))},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},7674:(e,s,t)=>{"use strict";t.d(s,{A:()=>d,O:()=>c});var r=t(5155),l=t(2115),a=t(9012);let n=(0,l.createContext)();function c(e){let{children:s}=e,[t,c]=(0,l.useState)(null),[d,i]=(0,l.useState)(!0),[o,u]=(0,l.useState)(!1);(0,l.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await a.F.get("/auth/me");c(e.data.user),u(!0)}catch(e){c(null),u(!1)}finally{i(!1)}},h=async e=>{c(e),u(!0)},m=async()=>{try{await a.F.post("/auth/logout"),c(null),u(!1)}catch(e){console.error("Logout error:",e)}};return(0,r.jsx)(n.Provider,{value:{user:t,isAuthenticated:o,isLoading:d,login:h,logout:m,checkAuthStatus:x},children:s})}let d=()=>{let e=(0,l.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},9012:(e,s,t)=>{"use strict";t.d(s,{F:()=>r});let r=t(3464).A.create({baseURL:"http://localhost:4000",withCredentials:!0})}},e=>{e.O(0,[464,874,441,964,358],()=>e(e.s=3782)),_N_E=e.O()}]);