(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1714:(e,t,a)=>{"use strict";a.d(t,{I:()=>o,o:()=>i});var r=a(5155),s=a(2115);let l={fa:{home:"خانه",articles:"مقالات",products:"فروشگاه",dashboard:"داشبورد",login:"ورود هنرجو",register:"ثبت‌نام",adminLogin:"ورود مدیر",logout:"خروج",hello:"سلام",heroTitle:"آموزش شنا حرفه‌ای",heroSubtitle:"با پارس شنا",heroCta:"ثبت‌ نام در کلاس شنا",shopTitle:"فروشگاه تجهیزات شنا",shopSubtitle:"بهترین کیفیت با قیمت مناسب",swimwear:"مایو شنا",goggles:"عینک",fins:"فین شنا",equipment:"تجهیزات",addToCart:"افزودن به سبد",outOfStock:"ناموجود",inStock:"موجود",viewAllProducts:"مشاهده همه محصولات",specialProducts:"محصولات ویژه",price:"قیمت",toman:"تومان",allProducts:"همه تجهیزات شنا در یک مکان",noProductFound:"محصولی یافت نشد",noAvailibleProduct:"هیچ محصولی در حال حاضر موجود نیست.",callSupport:"لطفاً بعداً دوباره بررسی کنید یا با پشتیبانی تماس بگیرید.",classRegistration:"ثبت‌نام کلاس‌های شنا",selectClass:"انتخاب کلاس مناسب برای هر سن و سطح",duration:"دقیقه",availableSpots:"جای خالی از",registerFree:"ثبت‌نام رایگان",loginAndRegister:"ورود و ثبت‌نام",selectAndRegister:"انتخاب و ثبت‌نام",classFull:"کلاس پر است",freeClass:"رایگان",freeTrialSession:"جلسه آزمایشی",coachResume:"رزومه مربی",experience15Years:"با ۱۵ سال تجربه در آموزش شنا و کسب مدارک بین‌المللی",workExperience:"سابقه کاری",certificates:"گواهینامه‌ها",achievements:"افتخارات",userLogin:"ورود کاربر",loginToAccount:"به حساب خود وارد شوید",username:"نام کاربری",password:"رمز عبور",email:"ایمیل",phone:"شماره تماس",age:"سن",createAccount:"ثبت‌نام حساب کاربری",newUser:"کاربر جدید هستید؟",alreadyHaveAccount:"قبلاً حساب دارید؟",loginButton:"ورود",registerButton:"ثبت‌نام",registerFirst:"ابتدا ثبت نام کنید",cart:"سبد خرید",cartEmpty:"سبد خرید شما خالی است",backToShop:"بازگشت به فروشگاه",total:"مجموع",clearCart:"پاک کردن سبد",payment:"پرداخت",loginAndPay:"ورود و پرداخت",paymentMethod:"روش پرداخت",onlinePayment:"پرداخت آنلاین (زرین‌پال)",accountBalance:"پرداخت از موجودی حساب",welcome:"سلام",welcomeToDashboard:"به داشبورد شخصی خود خوش آمدید",userInfo:"اطلاعات کاربری",name:"نام",balance:"موجودی",skillLevel:"سطح مهارت",chargeAccount:"شارژ حساب",amount:"مبلغ به تومان",pay:"پرداخت",cancel:"انصراف",logoutAccount:"خروج از حساب",adminPanel:"پنل مدیریت",adminLogout:"خروج مدیر",manageClasses:"مدیریت کلاس‌ها",manageProducts:"مدیریت محصولات",createNew:"ایجاد جدید",edit:"ویرایش",delete:"حذف",title:"عنوان",classType:"نوع کلاس",date:"تاریخ",time:"زمان",operations:"عملیات",category:"دسته‌بندی",status:"وضعیت",description:"توضیحات",maxStudents:"حداکثر دانشجو",instructor:"مربی",uploadImage:"آپلود تصویر",update:"به‌روزرسانی",create:"ایجاد",swimCoach:"دو مربی حرفه ای شنا",allRightsReserved:"تمام حقوق محفوظ است",articlesTitle:"مقالات آموزشی شنا",articlesSubtitle:"راهنماها و نکات تخصصی برای یادگیری انواع مختلف شنا",fourMainTypes:"چهار نوع اصلی شنا",clickToViewArticles:"کلیک برای مشاهده مقالات",readMore:"مطالعه بیشتر",freestyle:"کرال سینه",backstroke:"کرال پشت",butterfly:"پروانه",breaststroke:"قورباغه",freestyleDesc:"سریع‌ترین و محبوب‌ترین شیوه شنا",backstrokeDesc:"شنای روی پشت با حرکات ریتمیک",butterflyDesc:"پیچیده‌ترین و قدرتمندترین تکنیک",breaststrokeDesc:"آرام‌ترین و مناسب‌ترین برای مبتدیان",loading:"در حال بارگذاری",error:"خطا",tryAgain:"تلاش مجدد",noDataFound:"اطلاعاتی یافت نشد",authRequired:"نیاز به احراز هویت",accessDenied:"دسترسی ممنوع"},en:{home:"Home",articles:"Articles",products:"Shop",dashboard:"Dashboard",login:"Student Login",register:"Register",adminLogin:"Admin Login",logout:"Logout",hello:"Hello",heroTitle:"Professional Swimming Training",heroSubtitle:"with Pars Swim",heroCta:"Register for Swimming Class",shopTitle:"Swimming Equipment Shop",shopSubtitle:"Best Quality at Fair Prices",swimwear:"Swimwear",goggles:"Goggles",fins:"Swim Fins",equipment:"Equipment",addToCart:"Add to Cart",outOfStock:"Out of Stock",inStock:"In Stock",viewAllProducts:"View All Products",specialProducts:"Featured Products",price:"Price",toman:"Toman",allProducts:"All Swimming Equipment In One Place",noProductFound:"No Product Was Found",noAvailibleProduct:"There Is No Available Product At The Moment",callSupport:"Please Try Again Later Or Call Support",classRegistration:"Swimming Class Registration",selectClass:"Select the right class for any age and level",duration:"minutes",availableSpots:"spots available of",registerFree:"Free Registration",loginAndRegister:"Login & Register",selectAndRegister:"Select & Register",classFull:"Class Full",freeClass:"Free",freeTrialSession:"Free Trial Session",coachResume:"Coach Resume",experience15Years:"With 15 years of experience in swimming instruction and international certifications",workExperience:"Work Experience",certificates:"Certificates",achievements:"Achievements",userLogin:"User Login",loginToAccount:"Login to your account",username:"Username",password:"Password",email:"Email",phone:"Phone Number",age:"Age",createAccount:"Create Account",newUser:"New user?",alreadyHaveAccount:"Already have an account?",loginButton:"Login",registerButton:"Register",registerFirst:"Register First",cart:"Shopping Cart",cartEmpty:"Your cart is empty",backToShop:"Back to Shop",total:"Total",clearCart:"Clear Cart",payment:"Payment",loginAndPay:"Login & Pay",paymentMethod:"Payment Method",onlinePayment:"Online Payment (ZarinPal)",accountBalance:"Pay from Account Balance",welcome:"Hello",welcomeToDashboard:"Welcome to your personal dashboard",userInfo:"User Information",name:"Name",balance:"Balance",skillLevel:"Skill Level",chargeAccount:"Charge Account",amount:"Amount in Toman",pay:"Pay",cancel:"Cancel",logoutAccount:"Logout",adminPanel:"Admin Panel",adminLogout:"Admin Logout",manageClasses:"Manage Classes",manageProducts:"Manage Products",createNew:"Create New",edit:"Edit",delete:"Delete",title:"Title",classType:"Class Type",date:"Date",time:"Time",operations:"Operations",category:"Category",status:"Status",description:"Description",maxStudents:"Max Students",instructor:"Instructor",uploadImage:"Upload Image",update:"Update",create:"Create",swimCoach:"2 Professional Swimming Coaches",allRightsReserved:"All Rights Reserved",articlesTitle:"Swimming Training Articles",articlesSubtitle:"Guides and expert tips for learning different swimming styles",fourMainTypes:"Four Main Swimming Styles",clickToViewArticles:"Click to view articles",readMore:"Read More",freestyle:"Freestyle",backstroke:"Backstroke",butterfly:"Butterfly",breaststroke:"Breaststroke",freestyleDesc:"The fastest and most popular swimming style",backstrokeDesc:"Swimming on your back with rhythmic movements",butterflyDesc:"The most complex and powerful technique",breaststrokeDesc:"The calmest and most suitable for beginners",loading:"Loading",error:"Error",tryAgain:"Try Again",noDataFound:"No data found",authRequired:"Authentication Required",accessDenied:"Access Denied"}},n=(0,s.createContext)();function o(e){let{children:t}=e,[a,o]=(0,s.useState)("fa");return(0,s.useEffect)(()=>{let e=localStorage.getItem("language")||"fa";o(e),document.documentElement.dir="fa"===e?"rtl":"ltr",document.documentElement.lang=e},[]),(0,r.jsx)(n.Provider,{value:{language:a,toggleLanguage:()=>{let e="fa"===a?"en":"fa";o(e),localStorage.setItem("language",e),document.documentElement.dir="fa"===e?"rtl":"ltr",document.documentElement.lang=e},t:e=>l[a][e]||e},children:t})}let i=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useLanguage must be used within LanguageProvider");return e}},2290:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(5155),s=a(7674),l=a(5695),n=a(2115);let o=function(e){let{children:t,redirectTo:a="/auth/login"}=e,{isAuthenticated:o,isLoading:i}=(0,s.A)(),c=(0,l.useRouter)();return((0,n.useEffect)(()=>{i||o||c.push(a)},[o,i,c,a]),i)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-200 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"در حال بررسی احراز هویت..."})]})}):o?t:null};var i=a(6874),c=a.n(i),d=a(1714);let u=function(){var e;let{user:t,logout:a}=(0,s.A)(),{t:i,language:u}=(0,d.o)();(0,l.useRouter)();let[m,g]=(0,n.useState)(null),[h,p]=(0,n.useState)(!1),[x,f]=(0,n.useState)({emergencyContact:"",emergencyPhone:"",medicalConditions:"",swimmingExperience:"beginner",goals:""});(0,n.useEffect)(()=>{if("register"===new URLSearchParams(window.location.search).get("action")){let e=localStorage.getItem("selectedClass");if(e)try{let t=JSON.parse(e);g(t),0===t.price&&p(!0)}catch(e){console.error("Error parsing saved class:",e),localStorage.removeItem("selectedClass")}}},[]);let b=async()=>{await a(),localStorage.removeItem("selectedClass"),window.location.href="/"},y=async e=>{e.preventDefault();try{await new Promise(e=>setTimeout(e,1e3));let e="fa"===u?'ثبت‌نام در کلاس "'.concat(m.title,'" با موفقیت انجام شد!'):'Successfully registered for "'.concat(m.title,'" class!');alert(e),g(null),p(!1),f({emergencyContact:"",emergencyPhone:"",medicalConditions:"",swimmingExperience:"beginner",goals:""}),localStorage.removeItem("selectedClass"),window.history.pushState({},"","/dashboard")}catch(e){console.error("Registration error:",e),alert("fa"===u?"خطا در ثبت‌نام. لطفاً دوباره تلاش کنید.":"Registration error. Please try again.")}},w=()=>{g(null),p(!1),localStorage.removeItem("selectedClass"),window.history.pushState({},"","/dashboard")},v=async e=>{e.preventDefault();let t=new FormData(e.target),a=t.get("amount");if(!a||a<1e3)return void alert("fa"===u?"حداقل مبلغ شارژ 1000 تومان است":"Minimum charge amount is 1000 Toman");try{let e=await fetch("/dashboard/pay",{method:"POST",body:t,credentials:"include"});e.redirected?window.location.href=e.url:alert("fa"===u?"خطا در ایجاد درخواست پرداخت":"Error creating payment request")}catch(e){console.error("Payment error:",e),alert("fa"===u?"خطا در اتصال به درگاه پرداخت":"Error connecting to payment gateway")}};return(0,r.jsx)(o,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gray-200 py-12",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsxs)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:[i("welcome")," ",null==t?void 0:t.name]}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:i("welcomeToDashboard")}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mt-6 max-w-md mx-auto",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-800 mb-2",children:i("userInfo")}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[i("name"),":"]})," ",null==t?void 0:t.name]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[i("email"),":"]})," ",null==t?void 0:t.email]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[i("balance"),":"]})," ",null==t||null==(e=t.balance)?void 0:e.toLocaleString()," ",i("toman")]})]}),(0,r.jsxs)("form",{onSubmit:v,className:"mt-4",children:[(0,r.jsx)("input",{type:"number",name:"amount",placeholder:i("amount"),min:"1000",className:"w-full px-3 py-2 border rounded-lg text-gray-900 mb-2",required:!0}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg",children:i("chargeAccount")})]})]}),(0,r.jsx)("button",{onClick:b,className:"mt-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg",children:i("logoutAccount")})]}),h&&m&&(0,r.jsxs)("div",{className:"mb-8 p-6 bg-blue-50 border border-blue-400 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-blue-800 mb-4",children:"fa"===u?"ثبت‌نام در کلاس: ".concat(m.title):"Register for Class: ".concat(m.title)}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg mb-6",children:[(0,r.jsx)("h4",{className:"font-bold text-lg",children:m.title}),(0,r.jsx)("p",{className:"text-gray-600",children:m.classType}),(0,r.jsx)("p",{className:"text-green-600 font-bold",children:i("freeClass")}),(0,r.jsxs)("p",{className:"text-gray-600",children:["fa"===u?"تاریخ":"Date",":"," ",new Date(m.date).toLocaleDateString("fa"===u?"fa-IR":"en-US")]}),(0,r.jsxs)("p",{className:"text-gray-600",children:["fa"===u?"زمان":"Time",": ",m.time]})]}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"fa"===u?"نام و نام خانوادگی تماس اضطراری":"Emergency Contact Name"}),(0,r.jsx)("input",{type:"text",required:!0,value:x.emergencyContact,onChange:e=>f({...x,emergencyContact:e.target.value}),className:"w-full px-3 py-2 border rounded-lg text-gray-900",placeholder:"fa"===u?"نام کامل شخص قابل تماس":"Full name of contact person"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"fa"===u?"شماره تماس اضطراری":"Emergency Contact Phone"}),(0,r.jsx)("input",{type:"tel",required:!0,value:x.emergencyPhone,onChange:e=>f({...x,emergencyPhone:e.target.value}),className:"w-full px-3 py-2 border rounded-lg text-gray-900",placeholder:"fa"===u?"09xxxxxxxxx":"Phone number"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"fa"===u?"تجربه شنا":"Swimming Experience"}),(0,r.jsxs)("select",{value:x.swimmingExperience,onChange:e=>f({...x,swimmingExperience:e.target.value}),className:"w-full px-3 py-2 border rounded-lg text-gray-900",children:[(0,r.jsx)("option",{value:"beginner",children:"fa"===u?"مبتدی":"Beginner"}),(0,r.jsx)("option",{value:"intermediate",children:"fa"===u?"متوسط":"Intermediate"}),(0,r.jsx)("option",{value:"advanced",children:"fa"===u?"پیشرفته":"Advanced"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"fa"===u?"مشکلات پزشکی (در صورت وجود)":"Medical Conditions (if any)"}),(0,r.jsx)("textarea",{value:x.medicalConditions,onChange:e=>f({...x,medicalConditions:e.target.value}),className:"w-full px-3 py-2 border rounded-lg text-gray-900",rows:"3",placeholder:"fa"===u?"هیچ مشکل خاصی ندارم یا ذکر مشکلات پزشکی":"No specific problems or mention medical conditions"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"fa"===u?"اهداف از یادگیری شنا":"Goals for Learning Swimming"}),(0,r.jsx)("textarea",{value:x.goals,onChange:e=>f({...x,goals:e.target.value}),className:"w-full px-3 py-2 border rounded-lg text-gray-900",rows:"3",placeholder:"fa"===u?"اهداف و انتظارات خود را شرح دهید":"Describe your goals and expectations"})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,r.jsx)("button",{type:"submit",className:"flex-1 bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-bold",children:"fa"===u?"تکمیل ثبت‌نام":"Complete Registration"}),(0,r.jsx)("button",{type:"button",onClick:w,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-bold",children:i("cancel")})]})]})]}),m&&!h&&m.price>0&&(0,r.jsxs)("div",{className:"mb-8 p-6 bg-yellow-50 border border-yellow-400 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-yellow-800 mb-4",children:"fa"===u?"کلاس انتخاب شده برای ثبت‌نام":"Selected Class for Registration"}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-bold text-lg",children:m.title}),(0,r.jsxs)("p",{className:"text-gray-600",children:["fa"===u?"قیمت":"Price",":"," ",m.price.toLocaleString()," ",i("toman")]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,r.jsx)("button",{onClick:()=>{alert("fa"===u?"انتقال به صفحه پرداخت...":"Redirecting to payment page...")},className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg",children:"fa"===u?"پرداخت و ثبت‌نام":"Pay and Register"}),(0,r.jsx)("button",{onClick:w,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg",children:i("cancel")})]})]})]}),!m&&!h&&(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"fa"===u?"کلاس‌های شنا":"Swimming Classes"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"fa"===u?"مشاهده و ثبت‌نام در کلاس‌های مختلف":"View and register for different classes"}),(0,r.jsx)(c(),{href:"/",className:"inline-block bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary-dark",children:"fa"===u?"مشاهده تمام کلاس‌ها":"View All Classes"})]}),(0,r.jsxs)("div",{className:"bg-purple-50 p-6 rounded-lg text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:i("products")}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"fa"===u?"خرید تجهیزات شنا":"Buy swimming equipment"}),(0,r.jsx)("a",{href:"/products",className:"inline-block bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg",children:i("viewAllProducts")})]})]})]})})})})}},3782:(e,t,a)=>{Promise.resolve().then(a.bind(a,2290))},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},7674:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,O:()=>o});var r=a(5155),s=a(2115),l=a(9012);let n=(0,s.createContext)();function o(e){let{children:t}=e,[a,o]=(0,s.useState)(null),[i,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await l.F.get("/auth/me");o(e.data.user),u(!0)}catch(e){o(null),u(!1)}finally{c(!1)}},g=async e=>{o(e),u(!0)},h=async()=>{try{await l.F.post("/auth/logout"),o(null),u(!1)}catch(e){console.error("Logout error:",e)}};return(0,r.jsx)(n.Provider,{value:{user:a,isAuthenticated:d,isLoading:i,login:g,logout:h,checkAuthStatus:m},children:t})}let i=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},9012:(e,t,a)=>{"use strict";a.d(t,{F:()=>r});let r=a(3464).A.create({baseURL:(()=>{{let e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e?"http://localhost:4000":"https://parsswim-backend-production.up.railway.app"}})(),withCredentials:!0,timeout:15e3});r.interceptors.request.use(e=>e,e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var t,a,r;return(null==(t=e.config)?void 0:t.url)==="/admin/me"||null==(a=e.config)||a.url,null==(r=e.response)||r.status,Promise.reject(e)})}},e=>{e.O(0,[464,874,441,964,358],()=>e(e.s=3782)),_N_E=e.O()}]);